{
  "script": "phase2_proposals.py",
  "run_id": "20251207_230718",
  "phase1_checkpoint": "data\\phase1_approval_best.pt",
  "phase1_val_acc": 0.993,
  "best_acc": 0.967,
  "final_trust": 0.9933071732521057,
  "final_internalization": 0.9933071732521057,
  "final_proposal_success_rate": 0.5,
  "epochs_completed": 8,
  "early_stop_reason": "Phase 2 complete - all topics accurate and calibrated",
  "args": {
    "data_dir": "data",
    "n_train": 40000,
    "n_val": 4000,
    "batch_size": 64,
    "lr": 0.001,
    "epochs": 15,
    "d_model": 64,
    "n_heads": 4,
    "n_think_steps": 5,
    "fresh": false
  },
  "history": [
    {
      "epoch": 1,
      "train_acc": 0.6492,
      "train_loss": 1.0993940074920654,
      "val_acc": 0.764,
      "show_rate": 0.18105,
      "approval_rate": 1.0,
      "perceived_competence": 0.999999463558197,
      "approval_threshold": 0.7999997138977051,
      "impressedness": 1.0,
      "current_goal": 9,
      "student_goal_estimate": 8.999996185302734,
      "student_goal_calibration": 0.9672131147540983,
      "proposals": {
        "total": 0,
        "approved": 0,
        "modified": 0,
        "redirected": 0,
        "by_type": {}
      },
      "internalization": 0.9933071732521057,
      "trust": 0.9933071732521057,
      "show_calibration": 0.955640971660614,
      "proposal_success_rate": 0.5,
      "per_pattern": {
        "compositional": 0.882702301410542,
        "long_range": 0.4177777777777778,
        "fibonacci_like": 1.0
      },
      "topic_calibration": {
        "compositional": {
          "accuracy": 0.9032841920852661,
          "confidence": 0.835595428943634,
          "gap": 0.06768876314163208,
          "status": "calibrated"
        },
        "long_range": {
          "accuracy": 0.476979523897171,
          "confidence": 0.463474839925766,
          "gap": 0.01350468397140503,
          "status": "calibrated"
        },
        "fibonacci_like": {
          "accuracy": 0.9717392325401306,
          "confidence": 0.9822531938552856,
          "gap": -0.01051396131515503,
          "status": "calibrated"
        }
      }
    },
    {
      "epoch": 2,
      "train_acc": 0.80845,
      "train_loss": 0.5495811331987381,
      "val_acc": 0.85225,
      "show_rate": 0.184625,
      "approval_rate": 1.0,
      "perceived_competence": 0.999999463558197,
      "approval_threshold": 0.7999997138977051,
      "impressedness": 1.0,
      "current_goal": 9,
      "student_goal_estimate": 8.999996185302734,
      "student_goal_calibration": 0.9755351681957186,
      "proposals": {
        "total": 1,
        "approved": 0,
        "modified": 0,
        "redirected": 1,
        "by_type": {
          "reset_topic": 1
        }
      },
      "internalization": 0.9933071732521057,
      "trust": 0.9933071732521057,
      "show_calibration": 0.963965654373169,
      "proposal_success_rate": 0.5,
      "per_pattern": {
        "compositional": 0.9368968077208611,
        "long_range": 0.6251851851851852,
        "fibonacci_like": 1.0
      },
      "topic_calibration": {
        "compositional": {
          "accuracy": 0.995172381401062,
          "confidence": 0.9228776693344116,
          "gap": 0.07229471206665039,
          "status": "calibrated"
        },
        "long_range": {
          "accuracy": 0.6032024025917053,
          "confidence": 0.5523278713226318,
          "gap": 0.050874531269073486,
          "status": "calibrated"
        },
        "fibonacci_like": {
          "accuracy": 0.9999997615814209,
          "confidence": 0.9876528382301331,
          "gap": 0.012346923351287842,
          "status": "calibrated"
        }
      }
    },
    {
      "epoch": 3,
      "train_acc": 0.869425,
      "train_loss": 0.377657511138916,
      "val_acc": 0.8875,
      "show_rate": 0.19985,
      "approval_rate": 1.0,
      "perceived_competence": 0.999999463558197,
      "approval_threshold": 0.7999997138977051,
      "impressedness": 1.0,
      "current_goal": 9,
      "student_goal_estimate": 8.999996185302734,
      "student_goal_calibration": 0.9830508474576272,
      "proposals": {
        "total": 0,
        "approved": 0,
        "modified": 0,
        "redirected": 0,
        "by_type": {}
      },
      "internalization": 0.9933071732521057,
      "trust": 0.9933071732521057,
      "show_calibration": 0.9709457159042358,
      "proposal_success_rate": 0.5,
      "per_pattern": {
        "compositional": 0.9769858945805494,
        "long_range": 0.6896296296296296,
        "fibonacci_like": 1.0
      },
      "topic_calibration": {
        "compositional": {
          "accuracy": 0.9955302476882935,
          "confidence": 0.926508903503418,
          "gap": 0.06902134418487549,
          "status": "calibrated"
        },
        "long_range": {
          "accuracy": 0.7462278008460999,
          "confidence": 0.6792649030685425,
          "gap": 0.06696289777755737,
          "status": "calibrated"
        },
        "fibonacci_like": {
          "accuracy": 0.9999996423721313,
          "confidence": 0.9932990670204163,
          "gap": 0.006700575351715088,
          "status": "calibrated"
        }
      }
    },
    {
      "epoch": 4,
      "train_acc": 0.903125,
      "train_loss": 0.27958048539161684,
      "val_acc": 0.92325,
      "show_rate": 0.2104,
      "approval_rate": 1.0,
      "perceived_competence": 0.999999463558197,
      "approval_threshold": 0.7999997138977051,
      "impressedness": 1.0,
      "current_goal": 9,
      "student_goal_estimate": 8.999996185302734,
      "student_goal_calibration": 0.9878971255673222,
      "proposals": {
        "total": 0,
        "approved": 0,
        "modified": 0,
        "redirected": 0,
        "by_type": {}
      },
      "internalization": 0.9933071732521057,
      "trust": 0.9933071732521057,
      "show_calibration": 0.9758672714233398,
      "proposal_success_rate": 0.5,
      "per_pattern": {
        "compositional": 0.9747587230883444,
        "long_range": 0.7977777777777778,
        "fibonacci_like": 1.0
      },
      "topic_calibration": {
        "compositional": {
          "accuracy": 0.9905945658683777,
          "confidence": 0.9646455645561218,
          "gap": 0.02594900131225586,
          "status": "calibrated"
        },
        "long_range": {
          "accuracy": 0.7217780947685242,
          "confidence": 0.7449713945388794,
          "gap": -0.023193299770355225,
          "status": "calibrated"
        },
        "fibonacci_like": {
          "accuracy": 0.9999997615814209,
          "confidence": 0.9974106550216675,
          "gap": 0.002589106559753418,
          "status": "calibrated"
        }
      }
    },
    {
      "epoch": 5,
      "train_acc": 0.9208,
      "train_loss": 0.22728666786551477,
      "val_acc": 0.94625,
      "show_rate": 0.2289,
      "approval_rate": 1.0,
      "perceived_competence": 0.999999463558197,
      "approval_threshold": 0.7999997138977051,
      "impressedness": 1.0,
      "current_goal": 9,
      "student_goal_estimate": 8.999996185302734,
      "student_goal_calibration": 0.9905660377358491,
      "proposals": {
        "total": 0,
        "approved": 0,
        "modified": 0,
        "redirected": 0,
        "by_type": {}
      },
      "internalization": 0.9933071732521057,
      "trust": 0.9933071732521057,
      "show_calibration": 0.9796224236488342,
      "proposal_success_rate": 0.5,
      "per_pattern": {
        "compositional": 0.9896065330363771,
        "long_range": 0.8511111111111112,
        "fibonacci_like": 1.0
      },
      "topic_calibration": {
        "compositional": {
          "accuracy": 0.9995361566543579,
          "confidence": 0.9656832814216614,
          "gap": 0.03385287523269653,
          "status": "calibrated"
        },
        "long_range": {
          "accuracy": 0.887632429599762,
          "confidence": 0.8222637176513672,
          "gap": 0.06536871194839478,
          "status": "calibrated"
        },
        "fibonacci_like": {
          "accuracy": 0.9802325367927551,
          "confidence": 0.9952449202537537,
          "gap": -0.015012383460998535,
          "status": "calibrated"
        }
      }
    },
    {
      "epoch": 6,
      "train_acc": 0.93615,
      "train_loss": 0.18425144420564174,
      "val_acc": 0.95075,
      "show_rate": 0.22415,
      "approval_rate": 1.0,
      "perceived_competence": 0.999999463558197,
      "approval_threshold": 0.7999997138977051,
      "impressedness": 1.0,
      "current_goal": 9,
      "student_goal_estimate": 8.999996185302734,
      "student_goal_calibration": 0.9925857275254866,
      "proposals": {
        "total": 0,
        "approved": 0,
        "modified": 0,
        "redirected": 0,
        "by_type": {}
      },
      "internalization": 0.9933071732521057,
      "trust": 0.9933071732521057,
      "show_calibration": 0.9823169708251953,
      "proposal_success_rate": 0.5,
      "per_pattern": {
        "compositional": 0.9866369710467706,
        "long_range": 0.8674074074074074,
        "fibonacci_like": 1.0
      },
      "topic_calibration": {
        "compositional": {
          "accuracy": 0.9183002710342407,
          "confidence": 0.9404969811439514,
          "gap": -0.022196710109710693,
          "status": "calibrated"
        },
        "long_range": {
          "accuracy": 0.8365690112113953,
          "confidence": 0.866638720035553,
          "gap": -0.030069708824157715,
          "status": "calibrated"
        },
        "fibonacci_like": {
          "accuracy": 0.9999997615814209,
          "confidence": 0.9961997270584106,
          "gap": 0.003800034523010254,
          "status": "calibrated"
        }
      }
    },
    {
      "epoch": 7,
      "train_acc": 0.94815,
      "train_loss": 0.15205692349672317,
      "val_acc": 0.967,
      "show_rate": 0.224775,
      "approval_rate": 1.0,
      "perceived_competence": 0.999999463558197,
      "approval_threshold": 0.7999997138977051,
      "impressedness": 1.0,
      "current_goal": 9,
      "student_goal_estimate": 8.999996185302734,
      "student_goal_calibration": 0.994060876020787,
      "proposals": {
        "total": 2,
        "approved": 0,
        "modified": 0,
        "redirected": 2,
        "by_type": {
          "reset_topic": 1,
          "consolidate_learning": 1
        }
      },
      "internalization": 0.9933071732521057,
      "trust": 0.9933071732521057,
      "show_calibration": 0.9843870997428894,
      "proposal_success_rate": 0.5,
      "per_pattern": {
        "compositional": 0.994060876020787,
        "long_range": 0.9081481481481481,
        "fibonacci_like": 1.0
      },
      "topic_calibration": {
        "compositional": {
          "accuracy": 0.9968937635421753,
          "confidence": 0.9653328657150269,
          "gap": 0.03156089782714844,
          "status": "calibrated"
        },
        "long_range": {
          "accuracy": 0.9960651397705078,
          "confidence": 0.8835468292236328,
          "gap": 0.112518310546875,
          "status": "guessing"
        },
        "fibonacci_like": {
          "accuracy": 0.9999997615814209,
          "confidence": 0.9979425668716431,
          "gap": 0.002057194709777832,
          "status": "calibrated"
        }
      }
    },
    {
      "epoch": 8,
      "train_acc": 0.95225,
      "train_loss": 0.14167269228100776,
      "val_acc": 0.9595,
      "show_rate": 0.2441,
      "approval_rate": 1.0,
      "perceived_competence": 0.999999463558197,
      "approval_threshold": 0.7999997138977051,
      "impressedness": 1.0,
      "current_goal": 9,
      "student_goal_estimate": 8.999996185302734,
      "student_goal_calibration": 0.9949174078780177,
      "proposals": {
        "total": 3,
        "approved": 0,
        "modified": 0,
        "redirected": 3,
        "by_type": {
          "consolidate_learning": 1,
          "reset_topic": 2
        }
      },
      "internalization": 0.9933071732521057,
      "trust": 0.9933071732521057,
      "show_calibration": 0.9861482381820679,
      "proposal_success_rate": 0.5,
      "per_pattern": {
        "compositional": 0.9695619896065331,
        "long_range": 0.9103703703703704,
        "fibonacci_like": 1.0
      },
      "topic_calibration": {
        "compositional": {
          "accuracy": 0.9371309876441956,
          "confidence": 0.948382556438446,
          "gap": -0.011251568794250488,
          "status": "calibrated"
        },
        "long_range": {
          "accuracy": 0.9243265986442566,
          "confidence": 0.8726434707641602,
          "gap": 0.051683127880096436,
          "status": "calibrated"
        },
        "fibonacci_like": {
          "accuracy": 0.9550797939300537,
          "confidence": 0.9887046217918396,
          "gap": -0.03362482786178589,
          "status": "calibrated"
        }
      }
    }
  ]
}